{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="title" content="project" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="language" content="English" />
    <meta name="author" content="vinayak sharma" />
    <title>{{title}}</title>

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <!-- Main CSS -->
    <link rel="stylesheet" type="text/css" href="{% static "index.css" %}" />

    <style>
      /* Reset and Base Styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, sans-serif;
        line-height: 1.6;
        color: #333;
      }

      /* Navbar Styles */
      .navbar {
        background-color: #222;
        padding: 0;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .navbar-container {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 20px;
      }

      .navbar-brand {
        color: #fff;
        text-decoration: none;
        font-size: 1.5rem;
        font-weight: bold;
        padding: 15px 0;
        display: inline-block;
      }

      .navbar-brand:hover {
        color: #ddd;
      }

      .navbar-toggle {
        display: none;
        background: none;
        border: none;
        cursor: pointer;
        padding: 10px;
      }

      .navbar-toggle span {
        display: block;
        width: 25px;
        height: 3px;
        background-color: #fff;
        margin: 5px 0;
        transition: 0.3s;
      }

      .navbar-menu {
        display: flex;
        list-style: none;
        margin: 0;
        padding: 0;
      }

      .navbar-menu li {
        margin-left: 10px;
      }

      .navbar-menu a {
        color: #fff;
        text-decoration: none;
        padding: 15px 20px;
        display: block;
        transition: background-color 0.3s;
      }

      .navbar-menu a:hover {
        background-color: #333;
      }

      .navbar-menu .icon {
        margin-right: 5px;
      }

      /* Mobile Menu */
      @media (max-width: 768px) {
        .navbar-toggle {
          display: block;
        }

        .navbar-menu {
          display: none;
          flex-direction: column;
          position: absolute;
          top: 100%;
          left: 0;
          right: 0;
          background-color: #222;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .navbar-menu.active {
          display: flex;
        }

        .navbar-menu li {
          margin: 0;
          border-top: 1px solid #333;
        }

        .navbar-menu a {
          padding: 15px 20px;
        }
      }

      /* Main Content */
      .main-content {
        margin-top: 70px;
        padding: 20px;
        min-height: calc(100vh - 70px);
      }

      .welcome-section {
        text-align: center;
        padding: 40px 20px;
      }

      .welcome-section h1 {
        font-size: 2.5rem;
        color: #333;
        margin-bottom: 20px;
      }

      @media (max-width: 768px) {
        .welcome-section h1 {
          font-size: 1.8rem;
        }
      }
    </style>

    <!-- Message Alerts -->
    {% if messages %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        {% for message in messages %}
        alert("{{ message }}");
        {% endfor %}
      });
    </script>
    {% endif %}
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar">
      <div class="navbar-container">
        <a class="navbar-brand" href="{% url 'index' %}">project</a>

        <button class="navbar-toggle" onclick="toggleMenu()">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
        </button>

        <ul class="navbar-menu" id="navbarMenu">
          <li><a href="{% url 'index' %}">Home</a></li>
          {% if user.is_authenticated %}
          <li>
            <form
              method="POST"
              action="{% url 'logout' %}"
              style="display: inline; margin: 0"
            >
              {% csrf_token %}
              <button
                type="submit"
                style="
                  background: none;
                  border: none;
                  color: #fff;
                  cursor: pointer;
                  padding: 15px 20px;
                  font-size: inherit;
                  font-family: inherit;
                "
              >
                <span class="icon">→</span>Logout
              </button>
            </form>
          </li>
          {% else %}
          <li>
            <a href="{% url 'register' %}"><span class="icon"></span>Sign up</a>
          </li>
          <li>
            <a href="{% url 'login' %}"><span class="icon">→</span>Log in</a>
          </li>
          {% endif %}
        </ul>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="main-content">
      {% block start %}
      <div class="welcome-section">
        {% if user.is_authenticated %}
        <h1>Welcome back {{user.username}}!</h1>
        {% else %}
        <h1>Log in, please...</h1>
        {% endif %}
      </div>
      {% endblock %}
    </div>

    <script>
      function toggleMenu() {
        const menu = document.getElementById("navbarMenu");
        menu.classList.toggle("active");
      }

      // Close menu when clicking outside
      document.addEventListener("click", function (event) {
        const navbar = document.querySelector(".navbar");
        const menu = document.getElementById("navbarMenu");
        const toggle = document.querySelector(".navbar-toggle");

        if (
          !navbar.contains(event.target) &&
          menu.classList.contains("active")
        ) {
          menu.classList.remove("active");
        }
      });

      // Close menu when window is resized to desktop size
      window.addEventListener("resize", function () {
        const menu = document.getElementById("navbarMenu");
        if (window.innerWidth > 768 && menu.classList.contains("active")) {
          menu.classList.remove("active");
        }
      });
    </script>
  </body>
</html>
